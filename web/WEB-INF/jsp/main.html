<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Blog - BigMeng</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="xkenmon.cn"/>
    <meta name="keywords" content="xkenmon"/>
    <meta name="author" content="xkenmon.cn"/>

    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i|Roboto+Mono" rel="stylesheet">
    <!-- jQuery -->
    <script src="/res/js/jquery.min.js"></script>
    <!-- Animate.css -->
    <link rel="shortcut icon" href="/res/favicon.ico"/>
    <link rel="stylesheet" href="/res/css/animate.css">
    <!-- Icomoon Icon Fonts-->
    <link rel="stylesheet" href="/res/css/icomoon.css">
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="/res/css/bootstrap.css">

    <!-- Magnific Popup -->
    <link rel="stylesheet" href="/res/css/magnific-popup.css">

    <!-- Theme style  -->
    <link rel="stylesheet" href="/res/css/style.css">

    <!-- Modernizr JS -->
    <script src="/res/js/modernizr-2.6.2.min.js"></script>
    <!--art template-->
    <script src="/res/js/template-web.js"></script>
    <!-- FOR IE9 below -->
    <!--[if lt IE 9]>
    <script src="/res/js/respond.min.js"></script>
    <![endif]-->

</head>

<body>
<script>
    if (window.name === "ref") {
        window.location.reload();
        window.name = "doNotRef";
    }
</script>
<div class="gtco-loader"></div>

<div id="page">
    <nav class="gtco-nav" role="navigation">
        <div class="container">
            <div class="row">
                <div class="col-xs-2 text-left">
                    <div id="gtco-logo"><a href="/index.html">大<span>.</span>孟</a>
                    </div>
                </div>
                <div class="col-xs-10 text-right menu-1">
                    <ul>
                        <li class="has-dropdown">
                            <a>文章类型</a>
                            <ul class="dropdown" id="type-drop-down">
                                <script type="text/html" id="typelist">
                                    {{each $data}}
                                    <li><a href="/category/{{$value}}">{{$value}}</a></li>
                                    {{/each}}
                                </script>
                            </ul>
                        </li>

                        <li class="has-dropdown">
                            <a>排序方式</a>
                            <ul class="dropdown" id="sort-change">
                                <li><a>按点击数</a></li>
                                <li><a>按创建时间</a>
                                </li>
                            </ul>
                        </li>
                        <!--user info-->
                        <li class="has-dropdown">
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </nav>

    <!-- 主页文章 -->
    <header id="gtco-header" class="gtco-cover" role="banner" style="background-image:url(/res/images/img_1.jpg);"
            data-stellar-background-ratio="0.5">
        <div class="overlay"></div>
        <div class="container">
            <div class="row">
                <div class="col-md-7 text-left">
                    <div class="display-t">
                        <div class="display-tc animate-box" data-animate-effect="fadeInUp">
                            <span class="date-post">mix'blog</span>
                            <h1 class="mb30"><a href="">KEEP ON GOING AND NEVER GIVE UP
                            </a></h1>
                            <p><a href="" class="text-link">About Me</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="copyrights">Powered By <a href="http://www.xkenmon.cn/" title="xkenmon.cn">BigMeng</a></div>

    <!-- 前十篇文章 -->
    <div id="gtco-main">
        <div class="container">
            <div class="row row-pb-md">
                <div class="col-md-12">
                    <ul id="gtco-post-list">
                        <!--文章列表-->
                        <script id="articlelist" type="text/html">
                            {{each $data}}
                            <li class="one-third entry animate-box" data-animate-effect="fadeIn">
                                <a href="/Article/{{$value.id}}">
                                    {{if $value.cover===""}}
                                    <div class="entry-img" style="background-image: url(/res/images/img_6.jpg)"></div>
                                    {{else}}
                                    <div class="entry-img"
                                         style="background-image: url(/userImg/ArticlePic?fileName={{$value.cover}})"></div>
                                    {{/if}}

                                    <div class="entry-desc">
                                        <h3>{{$value.title}}</h3>
                                        <p>{{$value.summary}}</p>
                                    </div>
                                </a>
                                <a href="/Article/{{$value.id}}" class="post-meta">Post by {{$value.author}}<span
                                        class="date-posted">{{$value.readTime}}</span></a>
                            </li>
                            {{/each}}
                        </script>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li>
                                <a href="index.html?page=1" aria-label="Previous">
                                    <span>&laquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>


    <footer id="gtco-footer">
        <div class="container">
            <div class="row row-pb-md">
                <div class="col-md-12">
                    <h3 class="footer-heading">Most Popular</h3>
                </div>
                <!-- 最流行 -->

            </div>

            <div class="row copyright">
                <div class="col-md-12 text-center">
                    <p>
                        <small class="block">&copy; 2017 xkenmon.cn & BigMeng.top All Rights Reserved. <a
                                href="http://www.xkenmon.cn/" target="_blank" title="xkenmon.cn">BigMeng</a> -
                            Powered By <a href="http://www.xkenmon.cn/" title="xkenmon.cn"
                                          target="_blank">BigMeng</a></small>
                    </p>

                    <p>
                    <ul class="gtco-social-icons">
                        <li><a href="https://twitter.com/xkenmon"><i class="icon-twitter"></i></a></li>
                        <li><a href="https://www.facebook.com/profile.php?id=100012841268713"><i
                                class="icon-facebook"></i></a></li>
                        <li><a href="https://www.linkedin.com/in/%E7%A5%A5%E5%9D%A4-%E5%AD%9F-7049b2128/"><i
                                class="icon-linkedin"></i></a></li>
                        <li><a href="#"><i class="icon-qq"></i></a></li>
                    </ul>
                </div>
            </div>

        </div>
    </footer>
</div>

<div class="gototop js-top">
    <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
</div>

<script>
    $.ajax({
        url: "/getArticle",
        dataType: "json",
        async: false,
        success: function (data) {
            var html = template("articlelist", data);
            $('#gtco-post-list').html(html);
        }
    })

    $.ajax({
        url: "/getType",
        dataType: "json",
        async: false,
        success: function (data) {
            var html = template("typelist", data);
            $('#type-drop-down').html(html);
        }
    })

</script>
<script>

    //    var html;
    //    function change_sort(sort) {
    //        alert(sort);
    //        $.ajax({
    //            url: "/getArticle?sort=" + sort,
    //            dataType: "json",
    //            async: true,
    //            success: function (data) {
    //                html = template("articlelist", data);
    //                $('#gtco-post-list').html(html);
    //                alert("OK!");
    //            }
    //        })
    var sort = {msg: 'createTime'};
    $("#sort-change").on("click", sort, function (sort) {
        alert(sort.data.msg);
        $.ajax({
            url: "/getArticle?sort=" + sort.data.msg,
            dataType: "json",
            async: true,
            success: function (data) {
//                var html = template("articlelist", data);
//                template.render("articlelist",data);
//                var html_p = jQuery.parseHTML(html);
//                $('#gtco-post-list').html(html_p);
//                $('#gtco-post-list').append(html_p);
                $('#gtco-post-list').html('');

                function addArticle(article) {
                    var ul = document.getElementById("gtco-post-list");

                    var li = document.createElement("li");
                    li.setAttribute("class", "one-third entry animate-box");
                    li.setAttribute("data-animate-effect", "fadeIn");
                    li = ul.appendChild(li);

                    var a = document.createElement("a");
                    a.setAttribute("href", "Article/" + article.id);
                    a = li.appendChild(a);

                    var div1 = document.createElement("div");
                    div1.setAttribute("class", "entry-img");
                    if (article.cover === "") {
                        div1.setAttribute("style", "background-image:url(/res/images/img_5.jpg)");
                    } else
                        div1.setAttribute("style", "background-image:url(/userImg/ArticlePic?fileName=" + article.cover + ")");
                    a.appendChild(div1);

                    var div2 = document.createElement("div");
                    div2.setAttribute("class", "entry-desc");
                    div2.innerHTML = "<h3>" + article.title + "</h3><p>" + article.summary + "</p>";
                    a.appendChild(div2);

                    var a2 = document.createElement("a");
                    a2.setAttribute("href", "/profile/" + article.author);
                    a2.setAttribute("class", "post-meta");
                    a2.innerHTML = "By " + article.author + "<span class=\"date-posted\">" + article.readTime + "</span></a>";
                    li.appendChild(a2);
                }
//                addArticle(data);
                $.each(data,function (n, value) {
                    addArticle(value);
                });
                var $ul = $(this).find('ul');
                setTimeout(function(){
                    $ul.css('opacity', 1);
                }, 0);
                alert("OK!");
            }
        })
    })

    //    }
</script>


<!-- jQuery Easing -->
<script src="/res/js/jquery.easing.1.3.js"></script>
<!-- Bootstrap -->
<script src="/res/js/bootstrap.min.js"></script>
<!-- Waypoints -->
<script src="/res/js/jquery.waypoints.min.js"></script>
<!-- Stellar -->
<script src="/res/js/jquery.stellar.min.js"></script>
<!-- Main -->
<script src="/res/js/main.js"></script>
<!--love.js 66666-->
<script src="/res/js/love.js"></script>
</body>
</html>


